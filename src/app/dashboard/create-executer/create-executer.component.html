<div class=" main-card-heading" style="z-index: 2;">
    <div style=" display: inline"></div>
    <div class="row">
      <div>
        <h5 class="h5-heading label-color" class=" card-header">MANAGER</h5>
      </div>
  </div>
</div><br>


<div class="main-card card gf">
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true"
      (click)="manageClaimantAndProject = true; manageExecutor= false;manageReviewer =false" [ngStyle]="{'background-color': manageClaimantAndProject ? '#305496' : '#fbb335', 'color': manageClaimantAndProject ? '#fc9803' : '#305496'}">Manage Claimant & Project</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false"
      (click)="manageExecutor = true; manageClaimantAndProject= false;manageReviewer =false" [ngStyle]="{'background-color': manageExecutor ? '#305496' : '#fbb335', 'color': manageExecutor ? '#fc9803' : '#305496'}">Manage Executer</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false"
      (click)="manageReviewer = true; manageClaimantAndProject= false;manageExecutor =false" [ngStyle]="{'background-color': manageReviewer ? '#305496' : '#fbb335', 'color': manageReviewer ? '#fc9803' : '#305496'}">Manage Reviewer</button>
    </li>
</ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab" style="margin-left:10px;">
        <div class="main-card card">
        <div class="main-card-body card-body">
        <div class = "divHStick"><label class="label-H1"><h5 class="h5-heading label-H2">Managing Claimant</h5></label></div>   
        
        <div class="form-group">
            <div class="row">
                <form>
                  <div class="form-row">
                      <div class="row" style="margin-top: 20px; margin-bottom: 20px; padding-left: 2px;" *ngIf="isManager">
                        <div class=" col-sm-3 ">
                          <button (click)="onAddClaimant(claimantModalData)" type="button" class="btn btn-outline-success">Add</button>
                        </div>
                        <div class="col-sm-3 ">
                          <button (click)="onEditClaimant(claimantModalData)" type="button" class="btn btn-outline-warning">Edit</button>
                        </div>
                        <div class="col-sm-3 ">
                          <button (click)="onDeleteClaimant()" type="button" class="btn btn-outline-danger">Delete</button>
                        </div>
                      </div>
                   
                      <div class="input-group mb-3">
                        <select [disabled]="!isClaimantUnlocked" [ngModelOptions]="{standalone: true}"
                          [(ngModel)]="selectedClaimant" (ngModelChange)="onSelectedClaimantChange()" class="form-control"
                          id="exampleFormControlSelect1">
                          <!--<option value="">No Claimant Selected</option>-->
                          <ng-container *ngIf="claimantList?.length >0">
                            <option *ngFor="let claimant of claimantList" value="{{claimant._id}}">{{claimant.name}}, {{claimant['address']}}, {{claimant['city']}}, {{claimant['country']}}</option>
                          </ng-container>
                        </select>
                        <div class="input-group-append ">
                          <div *ngIf="!isClaimantUnlocked">
                            <button (click)="onClickClaimantUnlock()" class="input-group-text lock-unlock" id="basic-addon2"><i
                                i-bs name="lock"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                  fill="currentColor" class="bi bi-lock" viewBox="0 0 16 16">
                                  <path
                                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z">
                                  </path>
                                </svg></i></button>
                          </div>
                          <div *ngIf="isClaimantUnlocked">
                            <button (click)="onClickClaimantUnlock()" class="input-group-text lock-unlock" id="basic-addon2"><i
                                i-bs class="bi bi-unlock" name="unlock"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                  height="16" fill="currentColor" class="bi bi-unlock" viewBox="0 0 16 16">
                                  <path
                                    d="M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2zM3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H3z" />
                                </svg></i></button>
                          </div>
                        </div>
                      </div>
                      </div> 
                      <br>
                      <div class = "divHStick"><label class="label-H1"><h5 class="h5-heading label-H2" >Managing Project</h5></label></div>
                      <div class="form-row">
                      <div class="input-group mb-3">
          
                        <!--
                        <select [disabled]="!isProjectUnlocked" [ngModelOptions]="{standalone: true}"
                          [(ngModel)]="selectedProject" (ngModelChange)="onSelectedProjectChange()" class="form-control"
                          id="exampleFormControlSelect1">
                          <option value="">No Project Selected</option>
                          <ng-container *ngIf="projectList?.length >0">
                            <option *ngFor="let project of projectList" value="{{project._id}}">{{project.name}}</option>
                          </ng-container>
                        </select>-->
                        <!-- My Implementation -->
                        <button [disabled] = "!isClaimantUnlocked || selectedClaimant == undefined && isManager" (click)="onAddProject(projectModalData)" type="button" class="btn btn-outline-success" style="margin-top: 20px;">Add Project</button>
                        <label for="inputEmail4" style="color: #fbb335; margin-top: 25px; padding-left: 20px;">Select a Claimant to Add a Project</label>

                        <div class="table-responsive  tableHCFix"><br>
                        <table class="table table-borderless" style="border:2px #305496 solid;">
                            <thead style="color: white; background-color: #fbb335;border:2px #305496 solid;">
                                <th></th>
                                <th>Project Name</th>
                                <th>Assigned Project License</th>
                                <th>Assigned Executer</th>
                                <th>Controls</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let project of projectList; let i = index">
                                    <td>{{i+1}}</td>
                                    <td>{{project.name}}</td>
                                    <td>{{project['assignedLicenseKey']}}</td>
                                    <td>{{project['assignedExecuter']}}</td>
                                    <td><button (click)="onEditProject(projectModalData, i)" type="button" class="btn btn-outline-success btn-sm  m-1">Edit</button>
                                        <button (click)="onDeleteProject(i)" type="button" class="btn btn-outline-danger  btn-sm  m-1">Delete</button></td>
                                </tr>
                            </tbody>
                        </table>
                        </div>


                        <!--<div class="input-group-append ">
                          <div *ngIf="!isProjectUnlocked">
                            <button (click)="onClickProjectUnlock()" class="input-group-text lock-unlock" id="basic-addon2"><i
                                i-bs name="lock"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                  fill="currentColor" class="bi bi-lock" viewBox="0 0 16 16">
                                  <path
                                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z">
                                  </path>
                                </svg></i></button>
                          </div>
                          <div *ngIf="isProjectUnlocked">
                            <button (click)="onClickProjectUnlock()" class="input-group-text lock-unlock" id="basic-addon2"><i
                                i-bs class="bi bi-unlock" name="unlock"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                  height="16" fill="currentColor" class="bi bi-unlock" viewBox="0 0 16 16">
                                  <path
                                    d="M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2zM3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H3z" />
                                </svg></i></button>
                          </div>
                        </div>-->
                      </div>
                      <!-- add edit buttons -->
                      <!--<div *ngIf="isProjectUnlocked && isManager" class="row" style="margin-top: 15px; padding-left: 2px;">
                        <div class=" col-sm-3 ">
                          <button (click)="onAddProject(projectModalData)" type="button" class="btn btn-success">Add</button>
                        </div>
                        <div class="col-sm-3 ">
                          <button (click)="onEditProject(projectModalData)" type="button" class="btn btn-success">Edit</button>
                        </div>
                        <div class="col-sm-3 ">
                          <button (click)="onDeleteProject()" type="button" class="btn btn-success">Delete</button>
                        </div>
                      </div>-->
          
                  </div>
                </form>
              </div>
          </div>
          </div>
          </div>
    </div>

    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
        <div class="main-card card">
            <div class="main-card card">
                <div class="main-card-body card-body">
                    
                    <button type="button" (click)="openAddExecuterModal(modalData)" class="btn btn-outline-success">Add
                        Executer</button>
                    
                    <ng-template #modalData let-modal>
                        <div class="modal-header" style="background-color: #fbb335; color: white">
                            <h4 *ngIf="!isEditingExecuter" class="modal-title" id="modal-basic-title">ADD EXECUTER</h4>
                            <h4 *ngIf="isEditingExecuter" class="modal-title" id="modal-basic-title">EDIT EXECUTER</h4>
                            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body" style="background-color: #305496; color: #fbb335">
                            <form [formGroup]="addExecuterForm" (ngSubmit)="onAddExecuterSubmit()">
                                <div class="mb-3">
                                    <label for="username" class="form-label">Username</label>
                                    <input formControlName="userName" type="text" class="form-control" id="username"
                                        aria-describedby="emailHelp">
                                    <div *ngIf="
                                    !addExecuterForm.get('userName').valid &&
                                    addExecuterForm.get('userName').touched
                                  " class="text-danger">
                                        Please choose a username.
                                    </div>
                                </div>
            
                                <div class="mb-3">
                                    <label for="exampleInputEmail1" class="form-label">Email address</label>
                                    <input formControlName="email" type="email" class="form-control" id="email"
                                        aria-describedby="emailHelp">
                                    <div *ngIf="
                                    !addExecuterForm.get('email').valid &&
                                    addExecuterForm.get('email').touched
                                  " class="text-danger">
                                        Please choose a email.
                                    </div>
                                </div>
                                <div *ngIf="!isEditingExecuter" class="mb-3">
                                    <label for="exampleInputPassword1" class="form-label">Password</label>
                                    <input formControlName="password" type="password" class="form-control" id="password">
                                    <div *ngIf="
                                    !addExecuterForm.get('password').valid &&
                                    addExecuterForm.get('password').touched
                                  " class="text-danger">
                                        Please type password.
                                    </div>
                                </div>
                                <div *ngIf="!isEditingExecuter" class="mb-3">
                                    <label for="exampleInputPassword2" class="form-label">Confirm Password</label>
                                    <input formControlName="confirmPassword" type="password" class="form-control"
                                        id="confirmPassword">
                                    <div *ngIf="
                                    !addExecuterForm.get('confirmPassword').valid &&
                                    addExecuterForm.get('confirmPassword').touched
                                  " class="text-danger">
                                        Please type confirm password.
                                    </div>
                                    <div class="text-danger"
                                        *ngIf="addExecuterForm.get('confirmPassword').hasError('matching') && !addExecuterForm.get('confirmPassword').valid && addExecuterForm.get('confirmPassword').touched">
                                        Password not matching.
                                    </div>
                                </div>
                                <button *ngIf="!isEditingExecuter" type="submit" class="btn btn-secondary mr-2">Add</button>
                                <button *ngIf="isEditingExecuter" (click)="onExecuterEditSubmit()" type="button"
                                    class="btn btn-secondary mr-2">Update</button>
            
                                <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')">Exit</button>
            
                            </form>
                        </div>
            
                    </ng-template>
                    
                    <div class="table-responsive  tableHCFix"><br>
                        <table class="table table-borderless" style="border:2px #305496 solid;">
                            <thead style="color: white; background-color: #fbb335;border:2px #305496 solid;">
                                <th></th>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Controls</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let executer of executerList; let i = index">
                                    <td>{{i+1}}</td>
                                    <td>{{executer.userName}}</td>
                                    <td>{{executer.email}}</td>
                                    <td>
                                        <button (click)="onAssignExecuter(executer._id, executer.userName, assignExecuterModalData)" type="button"
                                            class="btn btn-outline-success btn-sm  m-1">Assign
                                            Project</button>
                                        <button (click)="onShowAssignedProject(executer._id, executer.userName, showExecuterModalData)" type="button"
                                            class="btn btn-outline-primary btn-sm  m-1">Unassign Project</button>
                                        <!--<button (click)="onExecuterEdit(executer._id, modalData)" type="button"
                                            class="btn btn-outline-warning btn-sm  m-1">Edit</button>-->
                                        <button (click)="onExecuterResetPwd(executer.email, ResetPwdmodal, 'isExecuter')" type="button"
                                            class="btn btn-outline-info btn-sm  m-1">Reset Password</button>
                                        <button (click)="onExecuterDelete(executer._id, executer.email)" type="button"
                                            class="btn btn-outline-danger btn-sm  m-1">Delete</button>
                                    </td>
                                </tr>
            
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <ng-template #assignExecuterModalData let-modal>
                    <div class="modal-header" style="background-color: #fbb335; color: white">
                        <h4 class="modal-title" id="modal-basic-title">Assign Project to {{selectedExecutorName}}</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body" style="background-color:#305496; color:#fbb335">
                        <form [formGroup]="assignExecuterForm" (ngSubmit)="onAssignExecuterSubmit()">
                            <div class="mb-3">
                                <label for="select claimant" class="form-label">Select Claimant</label>
                                <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedClaimant"
                                    (ngModelChange)="onSelectedClaimantChange()" class="form-control"
                                    id="exampleFormControlSelect1">
                                    <option value="undefined">No Claimant Selected</option>
                                    <ng-container *ngIf="claimantList?.length >0">
                                        <option *ngFor="let claimant of claimantList" value="{{claimant._id}}">{{claimant.name}}
                                        </option>
                                    </ng-container>
                                </select>
                            </div>
            
                            <div class="mb-3">
                                <label for="select project" class="form-label">Select Project</label>
                                <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedProject" class="form-control"
                                    id="exampleFormControlSelect1">
                                    <option value="undefined">No Project Selected</option>
                                    <ng-container *ngIf="projectList?.length >0">
                                        <option *ngFor="let project of projectList" value="{{project['_id']}}">{{project.name}}
                                        </option>
                                    </ng-container>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-secondary mr-2">Assign</button>
                            <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')">Exit</button>
            
                        </form>
                    </div>
            
                </ng-template>
                
                <ng-template #showExecuterModalData let-modal>
                    <div class="modal-header" style="background-color:#fbb335; color: white;">
                        <h4 class="modal-title" id="modal-basic-title">Assigned Projects to {{selectedExecutorName}}</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body" >
                        <div class="mb-3">
                            <div class="table-responsive table table-striped" id="bordersAll">
                                <table class="table" style="border:0px #305496 solid;">
                                    <thead style="color: #fbb335; background-color: #305496; border:0px #305496 solid;">
                                        <th>Claimant</th>
                                        <th>Project</th>
                                        <th></th>
                                    </thead>
                                    <tbody *ngFor="let project of claimantAndProjectNameList">
            
                                        <td>{{project.claimantId.name}}</td>
                                        <td>{{project.name}}</td>
                                        <td> <button type="button"
                                                (click)="removeExecuterFromProject(project._id,project.claimantId._id)"
                                                class="btn btn-outline-warning btn-sm text-nowrap" style="margin-bottom: 7px;">Unassign Executer</button>
                                        </td>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div>
                        <button type="button" class="btn btn-secondary btn-sm" (click)="modal.close('Save click')" style="margin-left:5px; margin-bottom: 5px">Exit</button>
                        </div>
                    </div>
            
                </ng-template>
            </div>
        </div>
    </div>

    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
        <div class="main-card card">
            <div class="main-card card">
                <div class="main-card-body card-body">
                    
                    <button type="button" (click)="openAddExecuterModal(modalData1)" class="btn btn-outline-success">Add
                        Reviewer</button>
                    
                    <ng-template #modalData1 let-modal>
                        <div class="modal-header" style="background-color: #fbb335; color: white">
                            <h4 *ngIf="!isEditingExecuter" class="modal-title" id="modal-basic-title">ADD REVIEWER</h4>
                            <h4 *ngIf="isEditingExecuter" class="modal-title" id="modal-basic-title">EDIT REVIEWER</h4>
                            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body" style="background-color: #305496; color: #fbb335">
                            <form [formGroup]="addExecuterForm" (ngSubmit)="onAddReviewerSubmit()">
                                <div class="mb-3">
                                    <label for="username" class="form-label">Username</label>
                                    <input formControlName="userName" type="text" class="form-control" id="username"
                                        aria-describedby="emailHelp">
                                    <div *ngIf="
                                    !addExecuterForm.get('userName').valid &&
                                    addExecuterForm.get('userName').touched
                                  " class="text-danger">
                                        Please choose a username.
                                    </div>
                                </div>
            
                                <div class="mb-3">
                                    <label for="exampleInputEmail1" class="form-label">Email address</label>
                                    <input formControlName="email" type="email" class="form-control" id="email"
                                        aria-describedby="emailHelp">
                                    <div *ngIf="
                                    !addExecuterForm.get('email').valid &&
                                    addExecuterForm.get('email').touched
                                  " class="text-danger">
                                        Please choose a email.
                                    </div>
                                </div>
                                <div *ngIf="!isEditingExecuter" class="mb-3">
                                    <label for="exampleInputPassword1" class="form-label">Password</label>
                                    <input formControlName="password" type="password" class="form-control" id="password">
                                    <div *ngIf="
                                    !addExecuterForm.get('password').valid &&
                                    addExecuterForm.get('password').touched
                                  " class="text-danger">
                                        Please type password.
                                    </div>
                                </div>
                                <div *ngIf="!isEditingExecuter" class="mb-3">
                                    <label for="exampleInputPassword2" class="form-label">Confirm Password</label>
                                    <input formControlName="confirmPassword" type="password" class="form-control"
                                        id="confirmPassword">
                                    <div *ngIf="
                                    !addExecuterForm.get('confirmPassword').valid &&
                                    addExecuterForm.get('confirmPassword').touched
                                  " class="text-danger">
                                        Please type confirm password.
                                    </div>
                                    <div class="text-danger"
                                        *ngIf="addExecuterForm.get('confirmPassword').hasError('matching') && !addExecuterForm.get('confirmPassword').valid && addExecuterForm.get('confirmPassword').touched">
                                        Password not matching.
                                    </div>
                                </div>
                                <button *ngIf="!isEditingExecuter" type="submit" class="btn btn-secondary mr-2">ADD</button>
                                <button *ngIf="isEditingExecuter" (click)="onReveiwerEditSubmit()" type="button"
                                    class="btn btn-secondary mr-2">Update</button>
            
                                <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')">EXIT</button>
            
                            </form>
                        </div>
            
                    </ng-template>
                    
                    <div class="table-responsive  tableHCFix"><br>
                        <table class="table table-borderless" style="border:2px #305496 solid;">
                            <thead style="color: white; background-color: #fbb335;border:2px #305496 solid;">
                                <th></th>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Controls</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let reviewer of ReviewerList; let i = index">
                                    <td>{{i+1}}</td>
                                    <td>{{reviewer.userName}}</td>
                                    <td>{{reviewer.email}}</td>
                                    <td>
                                        <button (click)="onAssignReviewer(reviewer._id, reviewer.userName, assignReviewerModalData)" type="button"
                                            class="btn btn-outline-success btn-sm  m-1">Assign
                                            Claim</button>
                                        <button (click)="onShowAssignedProjectForReviewer(reviewer._id, reviewer.userName, showReviewerAssignedModalData)" type="button"
                                            class="btn btn-outline-primary btn-sm  m-1">Unassign Claim</button>
                                        <!--<button (click)="onReveiwerEdit(reviewer._id, modalData1)" type="button"
                                            class="btn btn-outline-warning btn-sm  m-1">Edit</button>-->
                                        <button (click)="onExecuterResetPwd(reviewer.email, ResetPwdmodal, 'isReviewer')" type="button"
                                            class="btn btn-outline-info btn-sm  m-1">Reset Password</button>
                                        <button (click)="onReviewerDelete(reviewer._id, reviewer.email)" type="button"
                                            class="btn btn-outline-danger btn-sm  m-1">Delete</button>
                                    </td>
                                </tr>
            
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <ng-template #assignExecuterModalData let-modal>
                    <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title">Assign Executer</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form [formGroup]="assignExecuterForm" (ngSubmit)="onAssignExecuterSubmit()">
                            <div class="mb-3">
                                <label for="select claimant" class="form-label">Select Claimant</label>
                                <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedClaimant"
                                    (ngModelChange)="onSelectedClaimantChange()" class="form-control"
                                    id="exampleFormControlSelect1">
                                    <option value="undefined">No Claimant Selected</option>
                                    <ng-container *ngIf="claimantList?.length >0">
                                        <option *ngFor="let claimant of claimantList" value="{{claimant._id}}">{{claimant.name}}
                                        </option>
                                    </ng-container>
                                </select>
                            </div>
            
                            <div class="mb-3">
                                <label for="select project" class="form-label">Select Project</label>
                                <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedProject" class="form-control"
                                    id="exampleFormControlSelect1">
                                    <option value="undefined">No Project Selected</option>
                                    <ng-container *ngIf="projectList?.length >0">
                                        <option *ngFor="let project of projectList" value="{{project['_id']}}">{{project.name}}
                                        </option>
                                    </ng-container>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary mr-2">Assign</button>
                            <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Exit</button>
            
                        </form>
                    </div>
            
                </ng-template>
                
                <ng-template #showExecuterModalData let-modal>
                    <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title">Claimant And Project List</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <div class="table-responsive table table-striped">
                                <table class="table">
                                    <thead>
                                        <th>Claimant</th>
                                        <th>Project</th>
                                    </thead>
                                    <tbody *ngFor="let project of claimantAndProjectNameList">
            
                                        <td>{{project.claimantId.name}}</td>
                                        <td>{{project.name}}</td>
                                        <td> <button type="button"
                                                (click)="removeExecuterFromProject(project._id,project.claimantId._id)"
                                                class="btn btn-outline-danger text-nowrap">Remove
                                                Executer From
                                                Project</button>
                                        </td>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Close</button>
            
                    </div>
            
                </ng-template>
            </div>
        </div>
    </div>
  </div>
</div>
<!--<div class="main-card card">
    <div class="white-line">
    </div>
    <div class=" main-card-heading">
        <div style=" display: inline"></div>
        <h5 class=" card-header">Add Executer</h5>
    </div>
    <div class="main-card-body card-body">
        
        <button type="button" (click)="openAddExecuterModal(modalData)" class="btn btn-primary btn-lg">Add
            Executer</button>
        
        <ng-template #modalData let-modal>
            <div class="modal-header">
                <h4 *ngIf="!isEditingExecuter" class="modal-title" id="modal-basic-title">Add</h4>
                <h4 *ngIf="isEditingExecuter" class="modal-title" id="modal-basic-title">Edit</h4>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="addExecuterForm" (ngSubmit)="onAddExecuterSubmit()">
                    <div class="mb-3">
                        <label for="username" class="form-label">Username</label>
                        <input formControlName="userName" type="text" class="form-control" id="username"
                            aria-describedby="emailHelp">
                        <div *ngIf="
                        !addExecuterForm.get('userName').valid &&
                        addExecuterForm.get('userName').touched
                      " class="text-danger">
                            Please choose a username.
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Email address</label>
                        <input formControlName="email" type="email" class="form-control" id="email"
                            aria-describedby="emailHelp">
                        <div *ngIf="
                        !addExecuterForm.get('email').valid &&
                        addExecuterForm.get('email').touched
                      " class="text-danger">
                            Please choose a email.
                        </div>
                    </div>
                    <div *ngIf="!isEditingExecuter" class="mb-3">
                        <label for="exampleInputPassword1" class="form-label">Password</label>
                        <input formControlName="password" type="password" class="form-control" id="password">
                        <div *ngIf="
                        !addExecuterForm.get('password').valid &&
                        addExecuterForm.get('password').touched
                      " class="text-danger">
                            Please type password.
                        </div>
                    </div>
                    <div *ngIf="!isEditingExecuter" class="mb-3">
                        <label for="exampleInputPassword2" class="form-label">Confirm Password</label>
                        <input formControlName="confirmPassword" type="password" class="form-control"
                            id="confirmPassword">
                        <div *ngIf="
                        !addExecuterForm.get('confirmPassword').valid &&
                        addExecuterForm.get('confirmPassword').touched
                      " class="text-danger">
                            Please type confirm password.
                        </div>
                        <div class="text-danger"
                            *ngIf="addExecuterForm.get('confirmPassword').hasError('matching') && !addExecuterForm.get('confirmPassword').valid && addExecuterForm.get('confirmPassword').touched">
                            Password not matching.
                        </div>
                    </div>
                    <button *ngIf="!isEditingExecuter" type="submit" class="btn btn-primary mr-2">Submit</button>
                    <button *ngIf="isEditingExecuter" (click)="onExecuterEditSubmit()" type="button"
                        class="btn btn-primary mr-2">Update</button>

                    <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Close</button>

                </form>
            </div>

        </ng-template>
        
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Claimant(Project)</th>
                </thead>
                <tbody>
                    <tr *ngFor="let executer of executerList">
                        <td>{{executer._id}}</td>
                        <td>{{executer.userName}}</td>
                        <td>{{executer.email}}</td>
                        <td>
                            <button (click)="onExecuterEdit(executer._id, modalData)" type="button"
                                class="btn btn-primary btn-sm  m-1">Edit</button>
                            <button (click)="onExecuterDelete(executer._id)" type="button"
                                class="btn btn-danger btn-sm  m-1">Delete</button>
                            <button (click)="onShowAssignedProject(executer._id,showExecuterModalData)" type="button"
                                class="btn btn-success btn-sm  m-1">Show Assigned Project</button>
                            <button (click)="onAssignExecuter(executer._id, assignExecuterModalData)" type="button"
                                class="btn btn-primary btn-sm  m-1">Assign
                                Executer To Project</button>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>
    
    <ng-template #assignExecuterModalData let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Assign Executer</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <form [formGroup]="assignExecuterForm" (ngSubmit)="onAssignExecuterSubmit()">
                <div class="mb-3">
                    <label for="select claimant" class="form-label">Select Claimant</label>
                    <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedClaimant"
                        (ngModelChange)="onSelectedClaimantChange()" class="form-control"
                        id="exampleFormControlSelect1">
                        <option value="undefined">No Claimant Selected</option>
                        <ng-container *ngIf="claimantList?.length >0">
                            <option *ngFor="let claimant of claimantList" value="{{claimant._id}}">{{claimant.name}}
                            </option>
                        </ng-container>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="select project" class="form-label">Select Project</label>
                    <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedProject" class="form-control"
                        id="exampleFormControlSelect1">
                        <option value="undefined">No Project Selected</option>
                        <ng-container *ngIf="projectList?.length >0">
                            <option *ngFor="let project of projectList" value="{{project._id}}">{{project.name}}
                            </option>
                        </ng-container>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary mr-2">Assign Executer</button>
                <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Close</button>

            </form>
        </div>

    </ng-template>
    
    <ng-template #showExecuterModalData let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Claimant And Project List</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="mb-3">
                <div class="table-responsive table table-striped">
                    <table class="table">
                        <thead>
                            <th>Claimant</th>
                            <th>Project</th>
                        </thead>
                        <tbody *ngFor="let project of claimantAndProjectNameList">

                            <td>{{project.claimantId.name}}</td>
                            <td>{{project.name}}</td>
                            <td> <button type="button"
                                    (click)="removeExecuterFromProject(project._id,project.claimantId._id)"
                                    class="btn btn-outline-danger text-nowrap">Remove
                                    Executer From
                                    Project</button>
                            </td>
                        </tbody>
                    </table>
                </div>
            </div>
            <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Close</button>

        </div>

    </ng-template>
</div>-->

<!-- Project modal  -->
<ng-template #projectModalData let-modal>
    <div class="modal-header" style="background-color: #fbb335; color: white">
      <h4 *ngIf="!isEditingProject" class="modal-title" id="modal-basic-title">Add Project</h4>
      <h4 *ngIf="isEditingProject" class="modal-title" id="modal-basic-title">Edit Project</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body" style="background-color: #305496; color:#fbb335">
      <form [formGroup]="addProjectForm" (ngSubmit)="onAddProjectSubmit()">
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input formControlName="name" type="text" class="form-control" id="name" aria-describedby="emailHelp"><br>
          <label *ngIf="!isEditingProject" for="assignedLicenseKey" class="form-label">Assign License Key</label>
          <select *ngIf="!isEditingProject" name="assignedLicenseKey" id="assignedLicenseKey" class="form-control" (change) = "onLicenseAssignInfo()" formControlName="assignedLicenseKey" required>
            <option *ngFor="let licenseKey of availableLicenseKeys" value={{licenseKey.licenseKey}}>{{licenseKey['licenseKey']}}: Valid from {{licenseKey['licenseKeyStartDate'] | date}} to {{licenseKey['validity'] | date}}  and value limit in currency is {{licenseKey['currency']}} {{licenseKey['projectValue'] | number}}</option>
          </select>
          <div *ngIf="
                !addProjectForm.get('name').valid &&
                addProjectForm.get('name').touched
              " class="text-danger">
            Please choose a name.
          </div>
        </div>
        <button *ngIf="!isEditingProject" type="submit" class="btn btn-secondary mr-2">Add</button>
        <button *ngIf="isEditingProject" (click)="onProjectEditSubmit()" type="button"
          class="btn btn-secondary mr-2">Update</button>

        <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')">Exit</button>

      </form>
    </div>

  </ng-template>

  <!-- Claimant modal  -->
  <ng-template #claimantModalData let-modal>
    <div class="modal-header" style="background-color: #fbb335; color: white">
      <h4 *ngIf="!isEditingClaimant" class="modal-title" id="modal-basic-title">Add Claimant</h4>
      <h4 *ngIf="isEditingClaimant" class="modal-title" id="modal-basic-title">Edit Claimant</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body" style="background-color: #305496; color:#fbb335">
      <form [formGroup]="addClaimantForm" (ngSubmit)="onAddClaimantSubmit()">
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input formControlName="name" type="text" class="form-control" id="name" aria-describedby="emailHelp">
          <label for="address" class="form-label">Address</label>
          <input formControlName="address" type="text" class="form-control" id="address" aria-describedby="emailHelp">
          <label for="city" class="form-label">City</label>
          <input formControlName="city" type="text" class="form-control" id="city" aria-describedby="emailHelp">
          <label for="country" class="form-label">Country</label>
          <input formControlName="country" type="text" class="form-control" id="country" aria-describedby="emailHelp">
          <div *ngIf="
                !addClaimantForm.get('name').valid &&
                addClaimantForm.get('name').touched
              " class="text-danger">
            Please ensure a name.
          </div>
        </div>
        <button *ngIf="!isEditingClaimant" type="submit" class="btn btn-secondary mr-2">Add</button>
        <button *ngIf="isEditingClaimant" (click)="onClaimantEditSubmit()" type="button"
          class="btn btn-secondary mr-2">Update</button>

        <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')">Exit</button>

      </form>
    </div>

  </ng-template>
  <!-- Claimant modal end  -->

  <!-- Reveiwer assign Model-->
  <ng-template #assignReviewerModalData let-modal>
    <div class="modal-header" style="background-color: #fbb335; color: white;">
        <h4 class="modal-title" id="modal-basic-title">Assign Claim to {{selectedReviewerName}}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body" style="background-color: #305496; color: #fbb335;">
        <form [formGroup]="assignReviewerForm" (ngSubmit)="onAssignReviewerSubmit()">
            <div class="mb-3">
                <label for="select claimant" class="form-label">Select Claimant</label>
                <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedClaimant"
                    (ngModelChange)="onSelectedClaimantChange()" class="form-control"
                    id="exampleFormControlSelect1">
                    <option value="undefined">No Claimant Selected</option>
                    <ng-container *ngIf="claimantList?.length >0">
                        <option *ngFor="let claimant of claimantList" value="{{claimant._id}}">{{claimant.name}}
                        </option>
                    </ng-container>
                </select>
            </div>

            <div class="mb-3">
                <label for="select project" class="form-label">Select Project</label>
                <select [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedProject" (ngModelChange)="onSelectedProjectChange()" class="form-control"
                    id="exampleFormControlSelect1">
                    <option value="undefined">No Project Selected</option>
                    <ng-container *ngIf="projectList?.length >0">
                        <option *ngFor="let project of projectList" value="{{project['_id']}}">{{project.name}}
                        </option>
                    </ng-container>
                </select>
            </div>
                
            <div class = "mb-3">
                <label for="select claims" class="form-label">Select Claims</label>
                <select class="form-control"
                    id="exampleFormControlSelect1" [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedClaim">
                    <option value="undefined">No Claim Selected</option>
                    <option *ngFor="let claim of claimList" value="{{claim}}">{{claim}}
                        </option>
                </select>
            </div>
            <button type="submit" class="btn btn-secondary mr-2">Assign</button>
            <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')">Exit</button>

        </form>
    </div>

</ng-template>

<!-- Reviewer show assigned Projects-->
<ng-template #showReviewerAssignedModalData let-modal>
    <div class="modal-header" style="background-color: #fbb335; color: white;">
        <h4 class="modal-title" id="modal-basic-title">Assigned Claim to {{selectedReviewerName}}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="mb-3">
            <div class="table-responsive table table-striped" id="bordersAll">
                <table class="table" style="border:0px #305496 solid;">
                    <thead style="color: #fbb335; background-color: #305496; border:0px #305496 solid;">
                        <th>Claimant Name</th>
                        <th>Project Name</th>
                        <th>Claim Name</th>
                        <th></th>
                    </thead>
                    <tbody *ngFor="let revData of ReviewerDataList">
                        <td>{{revData.claimantName}}</td>
                        <td>{{revData.projectName}}</td>
                        <td>{{revData.claim}}</td>
                        <td> <button type="button" (click)="unassignClaimFromReviewer(revData)"
                            class="btn btn-outline-warning btn-sm text-nowrap" style="margin-bottom: 7px;">Unassign Reviewer</button>
                    </td>
                    </tbody>
                </table>
            </div>
        </div>
        <div>
        <button type="button" class="btn btn-secondary btn-sm" (click)="modal.close('Save click')" style="margin-left: 5px; margin-bottom: 5px;">Exit</button>
        </div>
    </div>


</ng-template>


<!-- Reset pwd pop up-->
<ng-template #ResetPwdmodal let-modal>
    <div class="modal-header" style="background-color: #fbb335; color: white">
        <h4 class="modal-title" id="modal-basic-title">RESET PASSWORD</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body" style="background-color: #305496; color: #fbb335">
        <form [formGroup]="resetPwdForm" (ngSubmit)="onResetPwdSubmit()">
            <div class="mb-3">
                <label for="username" class="form-label">New Password</label>
                <input formControlName="newPwd" type="password" class="form-control" id="username"
                    aria-describedby="emailHelp">
                <div *ngIf="
                !resetPwdForm.get('newPwd').valid &&
                resetPwdForm.get('newPwd').touched
              " class="text-danger">
                    Please enter new password.
                </div>
            </div>

            <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Confirm Password</label>
                <input formControlName="cnfPwd" type="password" class="form-control" id="email"
                    aria-describedby="emailHelp">
                <div *ngIf="
                !resetPwdForm.get('cnfPwd').valid &&
                resetPwdForm.get('cnfPwd').touched
              " class="text-danger">
                    Please confirm your password.
                </div>
            </div>
            <button  type="submit" class="btn btn-secondary mr-2">Reset Password</button>
            <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')">Exit</button>

        </form>
    </div>

</ng-template>